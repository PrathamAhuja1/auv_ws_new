# Gate Detection Parameters

gate_detector_node:
  ros__parameters:
    # ===== HSV RANGES - Pure colors for Gazebo =====
    red_lower1: [0, 100, 100]
    red_upper1: [10, 255, 255]
    red_lower2: [170, 100, 100]
    red_upper2: [180, 255, 255]
    
    green_lower: [40, 100, 100]
    green_upper: [80, 255, 255]
    
    orange_lower: [10, 120, 120]
    orange_upper: [25, 255, 255]
    
    # Detection parameters
    min_area_strict: 300
    min_area_relaxed: 80
    aspect_threshold: 0.8
    gate_width_meters: 1.5
    
    # Temporal filtering
    detection_history_size: 3
    min_detections_for_confirm: 1
    
    publish_debug: true

# Gate Navigation Parameters - FIXED for proper centering
gate_navigator_node:
  ros__parameters:
    # Depth control
    target_depth: -1.5
    depth_correction_gain: 1.5
    
    # Search behavior
    search_forward_speed: 0.5
    search_rotation_speed: 0.15
    
    # CENTERING parameters (NEW)
    centering_threshold: 0.15      # Gate must be within Â±15% of frame center
    centering_timeout: 5.0         # Max time to spend centering
    
    # Approach parameters
    approach_speed: 0.7            # Speed when gate is centered
    yaw_correction_gain: 2.0       # INCREASED for faster centering
    approach_distance: 3.0
    
    # Passing parameters
    passing_speed: 1.0
    passing_distance: 1.5
    passing_duration: 8.0
    
    # Flare avoidance
    flare_avoidance_gain: 0.8
    flare_avoidance_duration: 3.0